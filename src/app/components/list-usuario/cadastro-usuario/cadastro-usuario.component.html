<section class="container flex flex-wrap center">
  <div class="flex-container">
    <h2 class="titulo">Cadastro de Usuário</h2>
    <mat-card>
      <mat-card-content>
        <form [formGroup]="formGroup" (ngSubmit)="save()">
          <p *ngIf="message" class="{{ class }}">
            {{ message }}
          </p>

          <mat-form-field class="example-full-width">
            <input
              [(ngModel)]="user.nome"
              matInput
              placeholder="Nome"
              formControlName="nome"
            />

            <mat-error
              *ngIf="
                !formGroup.controls['nome'].valid &&
                formGroup.controls['nome'].touched
              "
            >
              nome obrigatório.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element">
            <input
              [(ngModel)]="user.login"
              matInput
              placeholder="Login"
              formControlName="login"
            />

            <mat-error
              *ngIf="
                !formGroup.controls['login'].valid &&
                formGroup.controls['login'].touched
              "
            >
              nome obrigatório.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input
              [(ngModel)]="user.email"
              matInput
              placeholder="Email"
              formControlName="email"
              [email]="true"
            />

            <mat-error
              *ngIf="
                !formGroup.controls['email'].valid &&
                formGroup.controls['email'].touched
              "
            >
              telefone obrigatório.
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Status</mat-label>
            <mat-select matNativeControl
            required
            [(ngModel)]="user.status"
            placeholder="Status"
            formControlName="status">
              <mat-option *ngFor="let status of listStatus" [value]="status.id">
                {{status.nome}}
              </mat-option>
            </mat-select>
            <mat-error
              *ngIf="
                !formGroup.controls['status'].valid &&
                formGroup.controls['status'].touched
              "
            >
              status obrigatório.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="form-element">
            <input
              [(ngModel)]="user.telefone"
              matInput
              placeholder="Telefone"
              formControlName="telefone"
            />

            <mat-error
              *ngIf="
                !formGroup.controls['telefone'].valid &&
                formGroup.controls['telefone'].touched
              "
            >
              telefone obrigatório.
            </mat-error>
          </mat-form-field>

          <div class="form-element">
            <button mat-raised-button routerLink="/list-usuario">
              <i class="material-icons">undo</i>Voltar
            </button>

            <button
              mat-raised-button
              color="warn"
              type="submit"
              class="button"
              [disabled]="!formGroup.valid"
            >
              Salvar
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</section>
