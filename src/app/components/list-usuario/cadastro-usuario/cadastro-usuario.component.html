<section class="container flex flex-wrap center">
    <div class="flex-container">
        <mat-card class="example-card">
            <mat-card-header>
                <div mat-card-avatar class="example-header-image"></div>
                <mat-card-title>Cadastro de Usuário</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form [formGroup]="formGroup" (ngSubmit)="save()">

                    <p *ngIf="message" class="error">
                        {{ message }}
                    </p>

                    <mat-form-field class="form-element">                        
                        <input [(ngModel)]="user.id" matInput disabled placeholder="Código" formControlName="id" disabled readonly>
                    </mat-form-field>

                    <mat-form-field class="form-element">
                        <input [(ngModel)]="user.nome" matInput placeholder="Nome" formControlName="nome" />

                        <mat-error *ngIf="!formGroup.controls['nome'].valid && formGroup.controls['nome'].touched">
                            nome obrigatório.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="form-element">
                        <input [(ngModel)]="user.login" matInput placeholder="Login" formControlName="login" />

                        <mat-error *ngIf="!formGroup.controls['login'].valid && formGroup.controls['login'].touched">
                            nome obrigatório.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="form-element">
                        <input [(ngModel)]="user.senha" type="password" matInput placeholder="Senha"
                            formControlName="senha">

                        <mat-error *ngIf="!formGroup.controls['senha'].valid && formGroup.controls['senha'].touched">
                            senha obrigatório.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                        <select matNativeControl required [(ngModel)]="user.status" placeholder="Status"
                            formControlName="status">
                            <option value="A">ATIVO</option>
                            <option value="B">BLOQUEADO</option>
                        </select>
                        <mat-error *ngIf="!formGroup.controls['status'].valid && formGroup.controls['status'].touched">
                            status obrigatório.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="form-element">
                        <input [(ngModel)]="user.telefone" matInput placeholder="Telefone" formControlName="telefone" />
      
                        <mat-error *ngIf="!formGroup.controls['telefone'].valid && formGroup.controls['telefone'].touched">
                            telefone obrigatório.
                        </mat-error>
                     </mat-form-field>

                     <mat-form-field class="form-element">
                         <input [(ngModel)]="user.email" matInput placeholder="Telefone" formControlName="email" />
       
                         <mat-error *ngIf="!formGroup.controls['email'].valid && formGroup.controls['email'].touched">
                             telefone obrigatório.
                         </mat-error>
                      </mat-form-field>

                    <div class="form-element">
                        <button mat-raised-button (click)="getPerfil()">
                            <i class="material-icons">undo</i>Voltar</button>
                            
                        <button mat-raised-button color="warn" type="submit" class="button"
                            [disabled]="!formGroup.valid">Salvar</button>
                    </div>

                </form>
            </mat-card-content>
        </mat-card>
    </div>
</section>