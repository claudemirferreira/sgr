<h2 class="titulo">Relatório Provento Pastoral</h2>
<mat-card style="background-color: #eaeaea">
    <mat-card-content>
        <mat-form-field>
            <mat-select placeholder="Região" [(ngModel)]="filtroDto.zona.id" (selectionChange)="carregarNucleo()">
                <mat-option *ngFor="let zona of filtroDto.zonas" [value]="zona.id">
                    {{zona.id}} - {{zona.nome}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-select placeholder="Nucleo" [(ngModel)]="filtroDto.nucleo" (selectionChange)="changeArea()">
                <mat-option *ngFor="let nucleo of filtroDto.nucleos" [value]="nucleo">
                    {{nucleo.nome}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-select placeholder="Area" [(ngModel)]="filtroDto.area">
                <mat-option *ngFor="let area of filtroDto.areas" [value]="area">
                    {{area.nome}}
                </mat-option>
            </mat-select>
        </mat-form-field>



        <mat-form-field>
            <mat-select placeholder="Mês inicial" [(ngModel)]="filtroDto.mesInicio.id">
                <mat-option *ngFor="let mes of filtroDto.meses" [value]="mes.id">
                    {{mes.nome}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-select placeholder="Ano" [(ngModel)]="filtroDto.ano">
                <mat-option *ngFor="let ano of filtroDto.anos" [value]="ano">
                    {{ano}}
                </mat-option>
            </mat-select>
        </mat-form-field>

    </mat-card-content>
    <mat-card-actions>

        <button mat-raised-button (click)="getPerfil()">
            <i class="material-icons">undo</i>Voltar</button>

        <button mat-raised-button [disabled]="filtroDto.zona.id < 0 " (click)="gerarRelatorio()">
              <i class="material-icons">print</i>imprimir
          </button>

    </mat-card-actions>
</mat-card>
<ngx-ui-loader></ngx-ui-loader>

<div style="height: 600px">
    <ng2-pdfjs-viewer #pdfViewer></ng2-pdfjs-viewer>
</div>
